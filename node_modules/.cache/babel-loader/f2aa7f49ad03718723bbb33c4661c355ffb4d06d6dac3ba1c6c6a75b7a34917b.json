{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import YouTube from\"react-youtube\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_KEY=\"e6fcd25d55477bb3d5d3e4cedfe19bfe\";const BASE_URL=\"https://api.themoviedb.org/3\";const App=()=>{const[movies,setMovies]=useState([]);const[selectedMovie,setSelectedMovie]=useState(null);const[trailerId,setTrailerId]=useState(\"\");const[searchTerm,setSearchTerm]=useState(\"\");useEffect(()=>{fetchMovies(\"popular\");},[]);const fetchMovies=async query=>{const url=query===\"popular\"?`${BASE_URL}/movie/popular`:`${BASE_URL}/search/movie`;const response=await axios.get(url,{params:{api_key:API_KEY,query:query!==\"popular\"?query:undefined}});setMovies(response.data.results);setSelectedMovie(response.data.results[0]);};const fetchTrailer=async movieId=>{const response=await axios.get(`${BASE_URL}/movie/${movieId}/videos`,{params:{api_key:API_KEY}});const trailer=response.data.results.find(vid=>vid.type===\"Trailer\");setTrailerId(trailer?trailer.key:\"\");};const handleSearch=event=>{event.preventDefault();if(searchTerm.trim()){fetchMovies(searchTerm);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"search-bar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for movies...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),selectedMovie&&/*#__PURE__*/_jsx(\"div\",{className:\"banner\",style:{backgroundImage:`url(https://image.tmdb.org/t/p/original/${selectedMovie.backdrop_path})`},children:/*#__PURE__*/_jsxs(\"div\",{className:\"banner-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:selectedMovie.title}),/*#__PURE__*/_jsx(\"p\",{children:selectedMovie.overview}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>fetchTrailer(selectedMovie.id),children:\"Play Trailer\"})]})}),trailerId&&/*#__PURE__*/_jsx(YouTube,{videoId:trailerId,className:\"youtube-player\"}),/*#__PURE__*/_jsx(\"div\",{className:\"movies-grid\",children:movies.map(movie=>/*#__PURE__*/_jsx(\"div\",{className:\"movie-card\",children:/*#__PURE__*/_jsx(\"img\",{src:`https://image.tmdb.org/t/p/w500/${movie.poster_path}`,alt:movie.title,onClick:()=>setSelectedMovie(movie)})},movie.id))})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","YouTube","jsx","_jsx","jsxs","_jsxs","API_KEY","BASE_URL","App","movies","setMovies","selectedMovie","setSelectedMovie","trailerId","setTrailerId","searchTerm","setSearchTerm","fetchMovies","query","url","response","get","params","api_key","undefined","data","results","fetchTrailer","movieId","trailer","find","vid","type","key","handleSearch","event","preventDefault","trim","className","children","onSubmit","placeholder","value","onChange","e","target","style","backgroundImage","backdrop_path","title","overview","onClick","id","videoId","map","movie","src","poster_path","alt"],"sources":["C:/Users/tharu/Downloads/React-movie-trailer-app/movie-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport YouTube from \"react-youtube\";\nimport \"./App.css\";\n\nconst API_KEY = \"e6fcd25d55477bb3d5d3e4cedfe19bfe\";\nconst BASE_URL = \"https://api.themoviedb.org/3\";\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [trailerId, setTrailerId] = useState(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    fetchMovies(\"popular\");\n  }, []);\n\n  const fetchMovies = async (query) => {\n    const url = query === \"popular\"\n      ? `${BASE_URL}/movie/popular`\n      : `${BASE_URL}/search/movie`;\n    \n    const response = await axios.get(url, {\n      params: { api_key: API_KEY, query: query !== \"popular\" ? query : undefined },\n    });\n    setMovies(response.data.results);\n    setSelectedMovie(response.data.results[0]);\n  };\n\n  const fetchTrailer = async (movieId) => {\n    const response = await axios.get(`${BASE_URL}/movie/${movieId}/videos`, {\n      params: { api_key: API_KEY },\n    });\n    const trailer = response.data.results.find((vid) => vid.type === \"Trailer\");\n    setTrailerId(trailer ? trailer.key : \"\");\n  };\n\n  const handleSearch = (event) => {\n    event.preventDefault();\n    if (searchTerm.trim()) {\n      fetchMovies(searchTerm);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <form onSubmit={handleSearch} className=\"search-bar\">\n        <input\n          type=\"text\"\n          placeholder=\"Search for movies...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      \n      {selectedMovie && (\n        <div\n          className=\"banner\"\n          style={{\n            backgroundImage: `url(https://image.tmdb.org/t/p/original/${selectedMovie.backdrop_path})`,\n          }}\n        >\n          <div className=\"banner-content\">\n            <h1>{selectedMovie.title}</h1>\n            <p>{selectedMovie.overview}</p>\n            <button onClick={() => fetchTrailer(selectedMovie.id)}>Play Trailer</button>\n          </div>\n        </div>\n      )}\n\n      {trailerId && <YouTube videoId={trailerId} className=\"youtube-player\" />}\n\n      <div className=\"movies-grid\">\n        {movies.map((movie) => (\n          <div key={movie.id} className=\"movie-card\">\n            <img\n              src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n              alt={movie.title}\n              onClick={() => setSelectedMovie(movie)}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}